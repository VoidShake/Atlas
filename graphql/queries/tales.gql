fragment Summary on Tale {
   id
   title
   locations {
      totalCount
   }
}

fragment Lore on Tale {
   ...Summary
   text
   locations {
      nodes {
         ...MapLocation
      }
   }
}

query getTales($pagination: Pagination) {
   connection: tales(pagination: $pagination) {
      totalCount
      nodes {
         ...Summary
      }
      pageInfo {
         ...PageInfo
      }
   }
}

query getTale($id: Int!) {
   tale(id: $id) {
      ...Lore
   }
}

mutation createTale($input: CreateTaleInput!, $locations: [Int!]) {
   createTale(input: $input, locations: $locations)
}
